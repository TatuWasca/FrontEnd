<div class="educacion">
  <div class="alineador">
    <h2>Educacion</h2>
    <a (click)="open(contenido)" class="boton" *ngIf="isLogged">
      <img src="assets/images/icono-añadir.jpg" alt="icono-añadir" height="15px" width="15px">
    </a>
  </div>

  <!--Parte visible-->
  <div *ngFor="let Educacion of educacionesArray" class="nombre-y-botones">
    <div class="alineador">
      <h5>{{Educacion.nombre}}</h5>
      <div class="boton-diapositiva" *ngIf="isLogged">
        <a (click)="open(content)">
          <img src="assets/images/icono-editar.jpg" alt="icono-editar" height="15px" width="15px">
        </a>
        <a (click)="open(contents); focus()">
          <img src="assets/images/icono-borrar.jpg" alt="icono-borrar" height="15px" width="15px">
        </a>  
      </div>
    </div>
    <div class="informacion">
      <div>
        <p>{{Educacion.descripcion}}</p>
        <p>{{Educacion.lugar}}</p>
        <p>{{Educacion.fecha}}</p>
      </div>
    </div>

    <!--Modal utilizado para borrar elementos-->
    <ng-template class="inseleccionable" #contents let-modal>
      <div class="modal-header text-center">
        <h4>¿Estás seguro que quieres borrar este elemento?</h4>
      </div>
      <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
        <button class="btn btn-default" style="width:50%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrar()">Cancelar</button>
        <button id="aceptar" class="btn btn-default" style="width:50%; padding: 15px" (click)="borrar(Educacion.id_Educacion)">Aceptar</button>
      </div>
    </ng-template>  

    <!--Modal utilizado para editar elementos-->
    <ng-template class="inseleccionable" #content let-modal>
      <form [formGroup]="formElement">
        <div class="modal-header text-center">
          <h4 class="modal-title w-100 font-weight-bold">Modificar</h4>
        </div>

        <div class="modal-body" style="background-color: rgba(238,238,238,1);">
          <!--Inputs con sus clases que detectan si el form es valido--> 
          <label for="nombre" style="line-height: 0px;">Nombre</label>
          <input 
          class="form-control" 
          style="margin-bottom: 5px;" 
          name="nombre" 
          [class.is-invalid]="NombreF!.touched && NombreF!.invalid"
          [class.is-valid]="NombreF!.touched && NombreF!.valid"
          [(ngModel)]="Educacion.nombre" 
          formControlName="nombreF" 
          type="text">

          <label for="descripcion" style="line-height: 0px;">Descripcion</label>
          <input 
          class="form-control" 
          style="margin-bottom: 5px;" 
          name="descripcion"
          [class.is-invalid]="DescripcionF!.touched && DescripcionF!.invalid"
          [class.is-valid]="DescripcionF!.touched && DescripcionF!.valid"
          [(ngModel)]="Educacion.descripcion" 
          formControlName="descripcionF" 
          type="text">

          <label for="lugar" style="line-height: 0px;">Lugar</label>
          <input 
          class="form-control"
          style="margin-bottom: 5px;"
          name="lugar" 
          [class.is-invalid]="LugarF!.touched && LugarF!.invalid"
          [class.is-valid]="LugarF!.touched && LugarF!.valid"
          [(ngModel)]="Educacion.lugar" 
          formControlName="lugarF" 
          type="text">

          <label for="fecha" style="line-height: 0px;">Fecha</label>
          <input 
          class="form-control"
          style="margin-bottom: 5px;"
          name="fecha"
          [class.is-invalid]="FechaF!.touched && FechaF!.invalid"
          [class.is-valid]="FechaF!.touched && FechaF!.valid"
          [(ngModel)]="Educacion.fecha"
          formControlName="fechaF"
          type="text">
        </div>

        <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
          <button class="btn btn-default" style="width:50%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrarEditar()">Cancelar</button>
          <button class="btn btn-default" style="width:50%; padding: 15px" type="submit" (click)="onEditar(Educacion.id_Educacion, Educacion)">Guardar</button>
        </div>

      </form>
    </ng-template> 
  </div>
</div>


<!--Modal utilizado para añadir elementos-->
<ng-template class="inseleccionable" #contenido let-modal>
  <form [formGroup]="formElement">
    <div class="modal-header text-center">
      <h4 class="modal-title w-100 font-weight-bold">Añadir</h4>
    </div>

    <div class="modal-body" style="background-color: rgba(238,238,238,1);">
      <!--Inputs con sus clases que detectan si el form es valido--> 
      <label for="nombre" style="line-height: 0px;">Nombre</label>
      <input 
      class="form-control" 
      style="margin-bottom: 5px;" 
      name="nombre" 
      [class.is-invalid]="NombreF!.touched && NombreF!.invalid"
      [class.is-valid]="NombreF!.touched && NombreF!.valid"
      [(ngModel)]="NewEdu.nombre"
      formControlName="nombreF" 
      type="text">

      <label for="descripcion" style="line-height: 0px;">Descripcion</label>
      <input 
      class="form-control" 
      style="margin-bottom: 5px;" 
      name="descripcion"
      [class.is-invalid]="DescripcionF!.touched && DescripcionF!.invalid"
      [class.is-valid]="DescripcionF!.touched && DescripcionF!.valid"
      [(ngModel)]="NewEdu.descripcion"
      formControlName="descripcionF" 
      type="text">

      <label for="lugar" style="line-height: 0px;">Lugar</label>
      <input 
      class="form-control"
      style="margin-bottom: 5px;"
      name="lugar"
      [class.is-invalid]="LugarF!.touched && LugarF!.invalid"
      [class.is-valid]="LugarF!.touched && LugarF!.valid"
      [(ngModel)]="NewEdu.lugar"
      formControlName="lugarF" 
      type="text">

      <label for="fecha" style="line-height: 0px;">Fecha</label>
      <input 
      class="form-control"
      style="margin-bottom: 5px;"
      name="fecha"
      [class.is-invalid]="FechaF!.touched && FechaF!.invalid"
      [class.is-valid]="FechaF!.touched && FechaF!.valid"
      [(ngModel)]="NewEdu.fecha"
      formControlName="fechaF"
      type="text">
    </div>

    <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
      <button class="btn btn-default" style="width:50%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrarCrear()">Cancelar</button>
      <button class="btn btn-default" style="width:50%; padding: 15px" type="submit" (click)="onCrear()">Guardar</button>
    </div>

  </form>
</ng-template> 