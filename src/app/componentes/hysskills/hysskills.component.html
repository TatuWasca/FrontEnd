<div class="HyS_Skills">
  <div class="alineador">
    <h2>Soft and Hard Skills</h2>
    <a (click)="open(contenido)" class="boton">
      <img src="assets/images/icono-añadir.jpg" alt="icono-añadir" height="15px" width="15px">
    </a> 
  </div>

  <div *ngFor="let skill of HyS_SkillsArray" class="nombre-y-botones">

    <!--Parte visible-->
    <div class="alineador">
      <h5>{{skill.nombre}}</h5>
      <div class="boton-diapositiva">
        <a>
          <img (click)="open(contents)" src="assets/images/icono-editar.jpg" alt="icono-editar" height="15px" width="15px">
        </a>
        <a>
          <img (click)="open(content)" src="assets/images/icono-borrar.jpg" alt="icono-borrar" height="15px" width="15px">
        </a>  
      </div>
    </div>
    <div class="informacion">
      <ngb-progressbar type="success" textType="white" [value]="skill.valor">{{skill.valor}}%</ngb-progressbar>
    </div>

    <!--Modal utilizado para borrar elementos-->
    <ng-template #content let-modal (ngSubmit)="onBorrar(skill.id_HySSkill)">
      <div class="modal-header text-center">
        <h4>¿Estás seguro que quieres borrar este elemento?</h4>
      </div>
      <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
        <button class="btn btn-default" style="width:48%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrar()">Cancelar</button>
        <button type="submit" class="btn btn-default" style="width:48%; padding: 15px" (click)="borrar(skill.id_HySSkill)">Aceptar</button>
      </div>
    </ng-template>

    <!--Modal utilizado para editar elementos-->
    <ng-template #contents let-modal>
      <form [formGroup]="formElement" (ngSubmit)="onEditar(skill.id_HySSkill, skill)">

        <div class="modal-header text-center">
          <h4 class="modal-title w-100 font-weight-bold">Editar</h4>
        </div>

        <!--Inputs con sus clases que detectan si el form es valido--> 
        <div class="modal-body" style="background-color: rgba(238,238,238,1);">

          <label for="nombre" style="line-height: 0px;">Nombre</label>
          <input 
          class="form-control" 
          style="margin-bottom: 5px;" 
          name="nombre"
          [(ngModel)]="skill.nombre"
          [class.is-invalid]="Nombre!.touched && Nombre!.invalid"
          [class.is-valid]="Nombre!.touched && Nombre!.valid"
          formControlName="nombre" 
          type="text">

          <div style="display:grid; margin-top: 10px;">
            <label for="valor">Valor - {{skill.valor}}%</label>
            <input 
            name="valor" 
            min="0" max="100" value="100" 
            formControlName="valor"
            [(ngModel)]="skill.valor"  
            type="range">
          </div>

        </div>

        <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
          <button class="btn btn-default" style="width:48%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrar()">Cancelar</button>
          <input class="btn btn-default" style="width:48%; padding: 15px" value="Guardar" type="submit">
        </div>

      </form>
    </ng-template> 
  </div>
</div>

<!--Modal utilizado para añadir elementos-->
<ng-template #contenido let-modal>
  <form [formGroup]="formElement" (ngSubmit)="onCrear()">

    <div class="modal-header text-center">
      <h4 class="modal-title w-100 font-weight-bold">Añadir</h4>
    </div>

    <!--Inputs con sus clases que detectan si el form es valido--> 
    <div class="modal-body" style="background-color: rgba(238,238,238,1);">

      <label for="nombre" style="line-height: 0px;">Nombre</label>
      <input 
      class="form-control" 
      style="margin-bottom: 5px;" 
      name="nombre"
      [(ngModel)]="NewSkill.nombre"
      [class.is-invalid]="Nombre!.touched && Nombre!.invalid"
      [class.is-valid]="Nombre!.touched && Nombre!.valid"
      formControlName="nombre" 
      type="text">

      <div style="display:grid; margin-top: 10px;">
        <label for="valor">Valor - {{NewSkill.valor}}%</label>
        <input 
        name="valor" 
        min="0" max="100" value="100" 
        formControlName="valor"
        [(ngModel)]="NewSkill.valor"  
        type="range">
      </div>

    </div>

    <div class="d-flex justify-content-center" style="padding: 0px; border-top: 1px lightgray solid">
      <button class="btn btn-default" style="width:48%; border-right: 1px lightgray solid; padding: 15px" (click)="cerrar()">Cancelar</button>
      <input class="btn btn-default" style="width:48%; padding: 15px" type="submit" value="Guardar" >
    </div>

  </form>
</ng-template> 